# Дорожная карта Open Property Core

Разделение на Community (бесплатно при выручке < $100K/год) и Enterprise (лицензия + поддержка). Фичи из Community **никогда** не переносятся в платные — только добавляются новые возможности сверху.

---

## Фаза 0: Старт (текущая)

**Цель:** юридическая база, каркас репозитория, первый сквозной сценарий.

| Задача | Отнесение | Статус |
|--------|-----------|--------|
| Репозиторий, README, документация | — | Готово |
| LICENSE (BSL), порог $100K | Community | Готово |
| CLA для контрибьюторов | — | Готово (docs/CLA.md) |
| Стек: Django, DRF, Celery, PostgreSQL, Docker | — | Готово |
| Сущности: Property, Unit, Party, Contract | Community | Готово |
| CRUD API + один сквозной сценарий | Community | Готово |
| Базовый запуск через docker-compose | Community | Готово |
| Первый e2e-сценарий (опционально) | — | По желанию |

---

## Фаза 1: Community MVP (1–3 месяца)

**Цель:** продукт, который можно поставить и использовать для учёта объектов и договоров.

| Фича | Описание | Модуль | Статус |
|------|----------|--------|--------|
| Объекты и помещения | Полный CRUD, типы, статусы, площадь | Property | Готово |
| Контрагенты | Физ./юр. лица, контакты, роли | Party | Готово |
| Договоры | Создание, даты, сумма, статусы | Contract | Готово |
| Простые начисления и платежи | Фиксация факта оплаты по договору | Billing | Готово (Invoice, Payment) |
| Базовая админка | Списки и формы для сущностей выше | Admin UI | Django Admin + React список Properties |
| Аутентификация и роли | Логин, роли (admin, manager), базовый RBAC | Core | Готово (JWT, страница входа) |
| Миграции БД | Версионированные миграции | Core | Готово |
| Документация API | OpenAPI/Swagger | Core | Готово |

Всё выше — **навсегда в Community**, бесплатно при соблюдении условий BSL.

---

## Фаза 2: Устойчивость и расширение (3–6 месяцев)

| Фича | Описание | Community / Enterprise |
|------|----------|------------------------|
| Портал арендатора | Просмотр договора, квитанций, обращений | Community |
| Уведомления | Email/системные уведомления о сроках и платежах | Community |
| Отчёты (базовые) | Выгрузки, простые отчёты по объектам и платежам | Community |
| Файловое хранилище | Документы к объектам и договорам (S3-совместимое) | Community |
| Вебхуки | События наружу (договор создан, платёж получен) | Community |
| Расширенный RBAC | Гибкие роли и разрешения | Enterprise |
| Аудит изменений | Лог кто/когда/что изменил по ключевым сущностям | Enterprise |

---

## Фаза 3: Proptech и комплаенс (6–12 месяцев)

| Фича | Описание | Community / Enterprise |
|------|----------|------------------------|
| Интеграции: умные замки, датчики | Адаптеры для доступа и мониторинга | Enterprise |
| Юридически значимый документооборот | Шаблоны, подписание, хранение | Enterprise |
| Интеграция с 1С / банками | Выгрузки, сверки, платежи | Enterprise |
| Отчётность (NIS2, 152-ФЗ и др.) | Отчёты и экспорты под регуляторику | Enterprise |
| SLA и приоритетная поддержка | Договор, гарантии доступности | Enterprise |

---

## Принципы

1. **Не забирать из Community** — платные фичи только добавляются.
2. **Граница по «роли»** — то, что нужно разработчику/малому бизнесу → Community; то, что нужно юристу, безопасности, масштабу → Enterprise.
3. **Self-hosted первый** — облачный SaaS (если будет) строится поверх того же кода.
4. **Прозрачность** — roadmap и handbook публичны; изменения лицензии — с заблаговременным объявлением и сохранением конвертации BSL → Apache 2.0.

Текущий приоритет: завершить Фазу 0 и закрепить Фазу 1 в коде и документации.
